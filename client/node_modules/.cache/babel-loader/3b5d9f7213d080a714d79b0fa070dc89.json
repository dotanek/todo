{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\todo\\\\src\\\\components\\\\List\\\\List.jsx\";\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport Nav from './Nav';\nimport Contents from './Contents';\nimport Details from './Details';\nconst Container = styled.div`\n    display: flex;\n    width: 100vw;\n    height: ${window.innerHeight + 'px'};\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n`;\nconst Button = styled.div`\n    position: absolute;\n    left: 10px;\n    bottom: 10px;\n    width: 50px;\n    height: 50px;\n    border-radius: 25px;\n    background-color: #105510;\n    z-index: 1001;\n\n    @media screen {\n        &:hover {\n            cursor: pointer;\n        }\n    }\n`;\nlet date = new Date();\nconst taskTabs = [{\n  label: 'Today',\n  id: 'today',\n  groupFilter: taskGroup => {\n    if (taskGroup.date.getYear() === date.getYear() && taskGroup.date.getMonth() === date.getMonth() && taskGroup.date.getDate() === date.getDate()) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}, {\n  label: 'Tomorrow',\n  id: 'tomorrow',\n  groupFilter: taskGroup => {\n    if (taskGroup.date.getYear() === date.getYear() && taskGroup.date.getMonth() === date.getMonth() && taskGroup.date.getDate() === date.getDate() + 1) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}, {\n  label: 'This week',\n  id: 'this-week',\n  groupFilter: taskGroup => {\n    let weekStart = new Date();\n    let weekEnd = new Date();\n    weekStart.setDate(date.getDate() - date.getDay());\n    weekStart.setHours(24, 0, 0);\n    weekEnd.setDate(date.getDate() + (7 - date.getDay()));\n    weekEnd.setHours(23, 59, 59);\n\n    if (taskGroup.date >= weekStart && taskGroup.date <= weekEnd) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}, {\n  label: 'Next week',\n  id: 'next-week',\n  groupFilter: taskGroup => {\n    let weekStart = new Date();\n    let weekEnd = new Date();\n    weekStart.setDate(date.getDate() - date.getDay() + 7);\n    weekStart.setHours(24, 0, 0);\n    weekEnd.setDate(date.getDate() + (7 - date.getDay()) + 7);\n    weekEnd.setHours(23, 59, 59);\n\n    if (taskGroup.date >= weekStart && taskGroup.date <= weekEnd) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}];\n\nclass List extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      navToggle: window.innerWidth >= 900,\n      detailsToggle: window.innerWidth >= 700,\n      mobileView: window.innerWidth < 700,\n      taskGroups: [],\n      activeTab: taskTabs[0]\n    };\n\n    this.onResizeWindow = () => {\n      let navToggle;\n      let detailsToggle;\n\n      if (window.innerWidth < 700) {\n        navToggle = false;\n        detailsToggle = false;\n      } else if (window.innerWidth < 900) {\n        navToggle = false;\n        detailsToggle = true;\n      } else {\n        navToggle = true;\n        detailsToggle = true;\n      }\n\n      if (typeof this.state.userNavToggle !== 'undefined' && this.state.userNavToggle === false) {\n        navToggle = false; // Once user has hidden the nav it should not appear on resize.\n      }\n\n      this.containerRef.current.style.height = window.innerHeight + 'px'; // Keep 100% height on window resize.\n\n      this.setState({\n        navToggle,\n        detailsToggle\n      });\n    };\n\n    this.onClickWindow = e => {\n      if (!this.navRef.current.contains(e.target) && !this.buttonRef.current.contains(e.target) && window.innerWidth < 900) {\n        this.setState({\n          navToggle: false\n        }); // Hides navigation when clicking outside of it in mobile mode.\n      }\n\n      if (!this.detailsRef.current.contains(e.target) && window.innerWidth < 700) {\n        this.setState({\n          detailsToggle: false\n        }); // Hides details when clicking outside of it in mobile mode.\n      }\n    };\n\n    this.onClickButton = () => {\n      // Auto toggle and user toggle is spearated.\n      if (typeof this.state.userNavToggle === 'undefined') {\n        this.setState({\n          userNavToggle: !this.state.navToggle,\n          navToggle: !this.state.navToggle\n        });\n      } else {\n        this.setState({\n          userNavToggle: !this.state.userNavToggle,\n          navToggle: !this.state.navToggle\n        });\n      }\n    };\n\n    this.onClickTaskTab = taskTab => {\n      this.setState({\n        activeTab: taskTab,\n        navToggle: window.innerWidth >= 900\n      });\n    };\n\n    this.onClickTask = task => {\n      setTimeout(() => {\n        this.setState({\n          activeTask: task,\n          detailsToggle: true\n        });\n      }, 1);\n    };\n\n    this.onClickDetailsReturn = () => {\n      this.setState({\n        detailsToggle: false\n      });\n    };\n\n    this.componentDidMount = () => {\n      window.addEventListener('resize', this.onResizeWindow);\n      window.addEventListener('click', this.onClickWindow); // Grouping tasks by date.\n\n      let taskGroups = [];\n      let date2 = new Date();\n      date2.setDate(date.getDate() + 1);\n      let date3 = new Date();\n      date3.setDate(date.getDate() + 2);\n      let date4 = new Date();\n      date4.setDate(23);\n      const tasks = [{\n        id: 'task1',\n        title: 'Wyrzucić śmieci.',\n        date: date\n      }, {\n        id: 'task2',\n        title: 'Zrobić pranie.',\n        date: date\n      }, {\n        id: 'task3',\n        title: 'Pamiętaj aby strzelić bujakę po mieście i dostać limoooooooooooooooooooo.',\n        date: date2\n      }, {\n        id: 'task3',\n        title: 'Pamiętaj o kablu do akumulatora.',\n        date: date3\n      }, {\n        id: 'task3',\n        title: 'Pobić żonę',\n        date: date4\n      }];\n      tasks.forEach(t => {\n        let target = taskGroups.find(g => g.date === t.date);\n\n        if (typeof target === 'undefined') {\n          taskGroups.push({\n            tasks: [t],\n            date: t.date\n          });\n        } else {\n          target.tasks.push(t);\n        }\n      });\n      this.setState({\n        taskGroups\n      });\n    };\n\n    this.navRef = React.createRef();\n    this.detailsRef = React.createRef();\n    this.buttonRef = React.createRef(); // This is temporary, will be deleted.\n\n    this.containerRef = React.createRef();\n  } // -- Events --\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      ref: this.containerRef,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Nav, {\n      activeTab: this.state.activeTab,\n      taskTabs: taskTabs,\n      navRef: this.navRef,\n      navToggle: this.state.navToggle,\n      taskGroups: this.state.taskGroups,\n      onClickTaskTab: taskTab => this.onClickTaskTab(taskTab),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Contents, {\n      navToggle: this.state.navToggle,\n      detailsToggle: this.state.detailsToggle,\n      activeTab: this.state.activeTab,\n      taskGroups: this.state.taskGroups,\n      activeTask: this.state.activeTask,\n      onClickTask: t => this.onClickTask(t),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Details, {\n      detailsToggle: this.state.detailsToggle,\n      activeTask: this.state.activeTask,\n      detailsRef: this.detailsRef,\n      onClickDetailsReturn: this.onClickDetailsReturn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      ref: this.buttonRef,\n      onClick: this.onClickButton,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default List;","map":{"version":3,"sources":["C:/Users/Mateusz/Desktop/todo/src/components/List/List.jsx"],"names":["React","Component","styled","Nav","Contents","Details","Container","div","window","innerHeight","Button","date","Date","taskTabs","label","id","groupFilter","taskGroup","getYear","getMonth","getDate","weekStart","weekEnd","setDate","getDay","setHours","List","constructor","props","state","navToggle","innerWidth","detailsToggle","mobileView","taskGroups","activeTab","onResizeWindow","userNavToggle","containerRef","current","style","height","setState","onClickWindow","e","navRef","contains","target","buttonRef","detailsRef","onClickButton","onClickTaskTab","taskTab","onClickTask","task","setTimeout","activeTask","onClickDetailsReturn","componentDidMount","addEventListener","date2","date3","date4","tasks","title","forEach","t","find","g","push","createRef","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Nav from './Nav';\r\nimport Contents from './Contents';\r\nimport Details from './Details';\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    width: 100vw;\r\n    height: ${window.innerHeight + 'px'};\r\n    margin: 0;\r\n    padding: 0;\r\n    overflow: hidden;\r\n`\r\n\r\nconst Button = styled.div`\r\n    position: absolute;\r\n    left: 10px;\r\n    bottom: 10px;\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 25px;\r\n    background-color: #105510;\r\n    z-index: 1001;\r\n\r\n    @media screen {\r\n        &:hover {\r\n            cursor: pointer;\r\n        }\r\n    }\r\n`\r\n\r\nlet date = new Date();\r\n\r\nconst taskTabs = [ \r\n    { \r\n        label: 'Today', \r\n        id:'today',\r\n        groupFilter: (taskGroup) => {\r\n            if (\r\n                taskGroup.date.getYear() === date.getYear() &&\r\n                taskGroup.date.getMonth() === date.getMonth() &&\r\n                taskGroup.date.getDate() === date.getDate()\r\n            ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n    { \r\n        label: 'Tomorrow',\r\n        id:'tomorrow',\r\n        groupFilter: (taskGroup) => {\r\n            if (\r\n                taskGroup.date.getYear() === date.getYear() &&\r\n                taskGroup.date.getMonth() === date.getMonth() &&\r\n                taskGroup.date.getDate() === date.getDate() + 1\r\n            ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    },\r\n    { \r\n        label: 'This week',\r\n        id: 'this-week',\r\n        groupFilter: (taskGroup) => {\r\n            let weekStart = new Date();\r\n            let weekEnd = new Date();\r\n            weekStart.setDate(date.getDate() - date.getDay());\r\n            weekStart.setHours(24,0,0);\r\n            weekEnd.setDate(date.getDate() + (7 - date.getDay()));\r\n            weekEnd.setHours(23,59,59);\r\n\r\n            if (\r\n                taskGroup.date >= weekStart &&\r\n                taskGroup.date <= weekEnd\r\n            ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        } \r\n    },\r\n    {\r\n        label: 'Next week',\r\n        id: 'next-week',\r\n        groupFilter: (taskGroup) => {\r\n            let weekStart = new Date();\r\n            let weekEnd = new Date();\r\n            weekStart.setDate((date.getDate() - date.getDay()) + 7);\r\n            weekStart.setHours(24,0,0);\r\n            weekEnd.setDate((date.getDate() + (7 - date.getDay())) + 7);\r\n            weekEnd.setHours(23,59,59);\r\n\r\n            if (\r\n                taskGroup.date >= weekStart &&\r\n                taskGroup.date <= weekEnd\r\n            ) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n];\r\n\r\n\r\nclass List extends Component {\r\n    state = {\r\n        navToggle: (window.innerWidth >= 900),\r\n        detailsToggle: (window.innerWidth >= 700),\r\n        mobileView: (window.innerWidth < 700),\r\n        taskGroups: [],\r\n        activeTab: taskTabs[0]\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.navRef = React.createRef();\r\n        this.detailsRef = React.createRef();\r\n        this.buttonRef = React.createRef(); // This is temporary, will be deleted.\r\n        this.containerRef = React.createRef();\r\n    }\r\n\r\n    // -- Events --\r\n\r\n    onResizeWindow = () => {\r\n        let navToggle;\r\n        let detailsToggle;\r\n\r\n        if (window.innerWidth < 700) {\r\n            navToggle = false;\r\n            detailsToggle = false;\r\n        } else if (window.innerWidth < 900) {\r\n            navToggle = false;\r\n            detailsToggle = true;\r\n        } else {\r\n            navToggle = true;\r\n            detailsToggle = true;\r\n        }\r\n\r\n        if (typeof this.state.userNavToggle !== 'undefined' && this.state.userNavToggle === false) { \r\n            navToggle = false; // Once user has hidden the nav it should not appear on resize.\r\n        }\r\n\r\n        this.containerRef.current.style.height = window.innerHeight + 'px'; // Keep 100% height on window resize.\r\n\r\n        this.setState({ navToggle, detailsToggle });\r\n    }\r\n\r\n    onClickWindow = e => {\r\n        if(\r\n            (!this.navRef.current.contains(e.target) && !this.buttonRef.current.contains(e.target)) &&\r\n            window.innerWidth < 900\r\n        ) {\r\n            this.setState({ navToggle:false }); // Hides navigation when clicking outside of it in mobile mode.\r\n        }\r\n\r\n        if(\r\n            !this.detailsRef.current.contains(e.target) &&\r\n            window.innerWidth < 700\r\n        ) {\r\n            this.setState({ detailsToggle:false }); // Hides details when clicking outside of it in mobile mode.\r\n        }\r\n    }\r\n\r\n    onClickButton = () => { // Auto toggle and user toggle is spearated.\r\n        if (typeof this.state.userNavToggle === 'undefined') {\r\n            this.setState({ userNavToggle:!this.state.navToggle, navToggle:!this.state.navToggle });\r\n        } else {\r\n            this.setState({ userNavToggle:!this.state.userNavToggle, navToggle:!this.state.navToggle });\r\n        }\r\n    }\r\n\r\n    onClickTaskTab = (taskTab) => {\r\n        this.setState({ activeTab:taskTab, navToggle:(window.innerWidth >= 900) });\r\n    }\r\n\r\n    onClickTask = (task) => {\r\n        setTimeout(() => {\r\n            this.setState({ activeTask:task, detailsToggle:true });\r\n        },1)\r\n    }\r\n    \r\n    onClickDetailsReturn = () => {\r\n        this.setState({ detailsToggle:false });\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        window.addEventListener('resize', this.onResizeWindow);\r\n        window.addEventListener('click', this.onClickWindow);\r\n\r\n        // Grouping tasks by date.\r\n\r\n        let taskGroups = [];\r\n\r\n        let date2 = new Date();\r\n        date2.setDate(date.getDate() + 1);\r\n        let date3 = new Date();\r\n        date3.setDate(date.getDate() + 2);\r\n        let date4 = new Date();\r\n        date4.setDate(23);\r\n\r\n        const tasks = [\r\n            { id:'task1', title:'Wyrzucić śmieci.', date: date },\r\n            { id:'task2', title:'Zrobić pranie.', date: date },\r\n            { id:'task3', title:'Pamiętaj aby strzelić bujakę po mieście i dostać limoooooooooooooooooooo.', date: date2 },\r\n            { id:'task3', title:'Pamiętaj o kablu do akumulatora.', date: date3 },\r\n            { id:'task3', title:'Pobić żonę', date: date4 },\r\n        ];\r\n\r\n        tasks.forEach(t => {\r\n            let target = taskGroups.find(g => g.date === t.date);\r\n\r\n            if (typeof target === 'undefined') {\r\n                taskGroups.push({ tasks:[t], date:t.date });\r\n            } else {\r\n                target.tasks.push(t);\r\n            }\r\n        });\r\n\r\n        this.setState({ taskGroups });\r\n    }\r\n\r\n    render() { \r\n        return (\r\n            <Container ref={this.containerRef}>\r\n                <Nav\r\n                    activeTab={this.state.activeTab}\r\n                    taskTabs={taskTabs}\r\n                    navRef={this.navRef}\r\n                    navToggle={this.state.navToggle}\r\n                    taskGroups={this.state.taskGroups}\r\n                    onClickTaskTab={(taskTab) => this.onClickTaskTab(taskTab)}\r\n                />\r\n                <Contents\r\n                    navToggle={this.state.navToggle}\r\n                    detailsToggle={this.state.detailsToggle}\r\n                    activeTab={this.state.activeTab}\r\n                    taskGroups={this.state.taskGroups}\r\n                    activeTask={this.state.activeTask}\r\n                    onClickTask={(t) => this.onClickTask(t)}\r\n                />\r\n                <Details\r\n                    detailsToggle={this.state.detailsToggle}\r\n                    activeTask={this.state.activeTask}\r\n                    detailsRef={this.detailsRef}\r\n                    onClickDetailsReturn={this.onClickDetailsReturn}\r\n                />\r\n                <Button ref={this.buttonRef} onClick={this.onClickButton}/>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n \r\nexport default List;"]},"metadata":{},"sourceType":"module"}
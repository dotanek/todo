{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mateusz\\\\Desktop\\\\todo\\\\client\\\\src\\\\components\\\\SignIn\\\\SignIn.jsx\";\nimport Axios from 'axios';\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nconst Container = styled.div`\n    display: flex;\n    flex-direction: column;\n    width: 100vw;\n    //height: ${window.innerHeight + 'px'};\n    height: 100vh;\n    margin: 0;\n    padding: 0;\n    align-items: center;\n    justify-content: center;\n`;\nconst Form = styled.form`\n    display: flex;\n    flex-direction: column;\n    width: 30%;\n    align-items: center;\n    //border: 1px solid black;\n\n    @media (max-width: 900px) {\n        width: 80%;\n    }\n\n    @media (max-width: 700px) {\n        width: 100%;\n    }\n\n    input {\n        width: 80%;\n        border-bottom: 2px solid rgba(0,0,0,0.2);\n        font-size: 15px;\n        padding: 2px 10px;\n        margin-top: 10px;\n        transition: 0.2s ease-in-out;\n    }\n\n    input:focus {\n        border-bottom: 2px solid #114673; \n    }\n\n    input:focus::placeholder {\n        color: transparent;\n    }\n\n    input:hover {\n        cursor: pointer;\n        border-bottom: 2px solid #114673; \n    }\n`;\nconst Label = styled.div`\n    width: 100%;\n    text-align: center;\n    font-size: 30px;\n    font-weight: bold;\n`;\nconst ErrorBox = styled.div`\n    width: 80%;\n    margin-top: 60px;\n    font-size: 12px;\n    color: #6C1010;\n    text-align: center;\n    min-height: 20px;\n`;\nconst InputUsername = styled.input``;\nconst InputPassword = styled.input``;\nconst ButtonSubmit = styled.button`\n    width: calc(80% + 20px);\n    padding: 8px 0px;;\n    border-radius: 5px;\n    border: 0;\n    margin-top: 30px;\n    background-color: #114673;\n    color: #ffffff;\n    font-size: 14px;\n    font-weight: bold;\n    transition: 0.2s ease-in-out;\n\n    &:hover {\n        cursor: pointer;\n        background-color: #215683;\n    }\n`;\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputUsernameValue: '',\n      inputPasswordValue: ''\n    };\n\n    this.onChangeInputUsername = e => {\n      this.setState({\n        inputUsernameValue: e.target.value\n      });\n    };\n\n    this.onChangeInputPassword = e => {\n      this.setState({\n        inputPasswordValue: e.target.value\n      });\n    };\n\n    this.onClickButtonSubmit = async e => {\n      e.preventDefault();\n\n      if (this.state.inputUsernameValue === '') {\n        return this.setState({\n          error: 'Username is empty.',\n          inputUsernameValue: '',\n          inputPasswordValue: ''\n        });\n      }\n\n      if (this.state.inputUsernameValue.length < 6 || this.state.inputUsernameValue.length > 20) {\n        return this.setState({\n          error: 'Username is incorrect.'\n        });\n      }\n\n      if (this.state.inputPasswordValue === '') {\n        return this.setState({\n          error: 'Password is empty.',\n          inputUsernameValue: '',\n          inputPasswordValue: ''\n        });\n      }\n\n      if (this.state.inputPasswordValue.length < 8 || this.state.inputPasswordValue.length > 1024) {\n        return this.setState({\n          error: 'Password is incorrect.',\n          inputUsernameValue: '',\n          inputPasswordValue: ''\n        });\n      }\n\n      const userDetails = {\n        username: this.state.inputUsernameValue,\n        password: this.state.inputPasswordValue\n      };\n      axios.post('http://localhost:9000/api/user/sign-in', userDetails).then(res => {\n        localStorage.setItem('token', res.data);\n        this.props.auth.signIn(() => {\n          this.props.history.push('/');\n        });\n      }).catch(e => {\n        if (e.response) {\n          this.setState({\n            error: e.response.data\n          });\n        }\n      });\n      this.setState({\n        inputUsernameValue: '',\n        inputPasswordValue: ''\n      });\n      Keyboard.dismiss();\n      this.inputUsernameRef.blur();\n      this.inputPasswordRef.blur();\n    };\n\n    this.inputUsernameRef = React.createRef();\n    this.inputPasswordRef = React.createRef();\n  }\n\n  /*const userSchema = mongoose.Schema({\r\n      username: {\r\n          type: String,\r\n          required: true,\r\n          min: 6,\r\n          max: 20\r\n      },\r\n      password: {\r\n          type: String,\r\n          required: true,\r\n          min: 8,\r\n          max: 1024\r\n      },\r\n      date: {\r\n          type: Date,\r\n          default: Date.now\r\n      }\r\n  });*/\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 21\n      }\n    }, \"Sing in\"), /*#__PURE__*/React.createElement(InputUsername, {\n      placeholder: \"Username\",\n      value: this.state.inputUsernameValue,\n      onChange: this.onChangeInputUsername,\n      ref: \"input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(InputPassword, {\n      placeholder: \"Password\",\n      type: \"password\",\n      value: this.state.inputPasswordValue,\n      onChange: this.onChangeInputPassword,\n      ref: \"input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(ButtonSubmit, {\n      type: \"submit\",\n      onClick: this.onClickButtonSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 21\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(ErrorBox, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 17\n      }\n    }, this.state.error))\n    /* <button\r\n         onClick={() => this.props.auth.signIn(() => {\r\n             this.props.history.push('/');\r\n         })}\r\n     >\r\n         Login\r\n     </button>*/\n    ;\n  }\n\n}\n\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/Mateusz/Desktop/todo/client/src/components/SignIn/SignIn.jsx"],"names":["Axios","React","Component","styled","axios","Container","div","window","innerHeight","Form","form","Label","ErrorBox","InputUsername","input","InputPassword","ButtonSubmit","button","SignIn","constructor","props","state","inputUsernameValue","inputPasswordValue","onChangeInputUsername","e","setState","target","value","onChangeInputPassword","onClickButtonSubmit","preventDefault","error","length","userDetails","username","password","post","then","res","localStorage","setItem","data","auth","signIn","history","push","catch","response","Keyboard","dismiss","inputUsernameRef","blur","inputPasswordRef","createRef","render"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100vw;\r\n    //height: ${window.innerHeight + 'px'};\r\n    height: 100vh;\r\n    margin: 0;\r\n    padding: 0;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\n\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 30%;\r\n    align-items: center;\r\n    //border: 1px solid black;\r\n\r\n    @media (max-width: 900px) {\r\n        width: 80%;\r\n    }\r\n\r\n    @media (max-width: 700px) {\r\n        width: 100%;\r\n    }\r\n\r\n    input {\r\n        width: 80%;\r\n        border-bottom: 2px solid rgba(0,0,0,0.2);\r\n        font-size: 15px;\r\n        padding: 2px 10px;\r\n        margin-top: 10px;\r\n        transition: 0.2s ease-in-out;\r\n    }\r\n\r\n    input:focus {\r\n        border-bottom: 2px solid #114673; \r\n    }\r\n\r\n    input:focus::placeholder {\r\n        color: transparent;\r\n    }\r\n\r\n    input:hover {\r\n        cursor: pointer;\r\n        border-bottom: 2px solid #114673; \r\n    }\r\n`\r\n\r\nconst Label = styled.div`\r\n    width: 100%;\r\n    text-align: center;\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n`\r\n\r\nconst ErrorBox = styled.div`\r\n    width: 80%;\r\n    margin-top: 60px;\r\n    font-size: 12px;\r\n    color: #6C1010;\r\n    text-align: center;\r\n    min-height: 20px;\r\n`\r\n\r\nconst InputUsername = styled.input``\r\n\r\nconst InputPassword = styled.input``\r\n\r\nconst ButtonSubmit = styled.button`\r\n    width: calc(80% + 20px);\r\n    padding: 8px 0px;;\r\n    border-radius: 5px;\r\n    border: 0;\r\n    margin-top: 30px;\r\n    background-color: #114673;\r\n    color: #ffffff;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    transition: 0.2s ease-in-out;\r\n\r\n    &:hover {\r\n        cursor: pointer;\r\n        background-color: #215683;\r\n    }\r\n`\r\n\r\nclass SignIn extends Component {\r\n    state = {\r\n        inputUsernameValue:'',\r\n        inputPasswordValue:''\r\n    }\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.inputUsernameRef = React.createRef();\r\n        this.inputPasswordRef = React.createRef();\r\n    }\r\n\r\n    onChangeInputUsername = (e) => {\r\n        this.setState({ inputUsernameValue:e.target.value });\r\n    }\r\n\r\n    onChangeInputPassword = (e) => {\r\n        this.setState({ inputPasswordValue:e.target.value });\r\n    }\r\n\r\n    onClickButtonSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.inputUsernameValue === '') {\r\n            return this.setState({\r\n                error:'Username is empty.',\r\n                inputUsernameValue:'',\r\n                inputPasswordValue:''\r\n            });\r\n        }\r\n\r\n        if (\r\n            this.state.inputUsernameValue.length < 6 ||\r\n            this.state.inputUsernameValue.length > 20\r\n        ) {\r\n            return this.setState({ error:'Username is incorrect.' });\r\n        }\r\n\r\n        if (this.state.inputPasswordValue === '') {\r\n            return this.setState({\r\n                error:'Password is empty.',\r\n                inputUsernameValue:'',\r\n                inputPasswordValue:''\r\n            });\r\n        }\r\n\r\n        if (\r\n            this.state.inputPasswordValue.length < 8 ||\r\n            this.state.inputPasswordValue.length > 1024\r\n        ) {\r\n            return this.setState({\r\n                error:'Password is incorrect.',\r\n                inputUsernameValue:'',\r\n                inputPasswordValue:''\r\n            });\r\n        }\r\n\r\n        const userDetails = {\r\n            username: this.state.inputUsernameValue,\r\n            password: this.state.inputPasswordValue\r\n        }\r\n\r\n        axios.post('http://localhost:9000/api/user/sign-in', userDetails)\r\n            .then(res => {\r\n                localStorage.setItem('token',res.data);\r\n                this.props.auth.signIn(() => {\r\n                    this.props.history.push('/');\r\n                });\r\n            })\r\n            .catch(e => {\r\n                if (e.response) {\r\n                    this.setState({ error:e.response.data });\r\n                }\r\n            })\r\n\r\n        this.setState({\r\n            inputUsernameValue:'',\r\n            inputPasswordValue:''\r\n        });\r\n\r\n        Keyboard.dismiss();\r\n        this.inputUsernameRef.blur();\r\n        this.inputPasswordRef.blur();\r\n    }\r\n\r\n    /*const userSchema = mongoose.Schema({\r\n        username: {\r\n            type: String,\r\n            required: true,\r\n            min: 6,\r\n            max: 20\r\n        },\r\n        password: {\r\n            type: String,\r\n            required: true,\r\n            min: 8,\r\n            max: 1024\r\n        },\r\n        date: {\r\n            type: Date,\r\n            default: Date.now\r\n        }\r\n    });*/\r\n\r\n    render() { \r\n        return (\r\n            <Container>\r\n                <Form>\r\n                    <Label>Sing in</Label>\r\n                    <InputUsername\r\n                        placeholder='Username'\r\n                        value={this.state.inputUsernameValue}\r\n                        onChange={this.onChangeInputUsername}\r\n                        ref=\"input\"\r\n                    />\r\n                    <InputPassword\r\n                        placeholder='Password'\r\n                        type='password'\r\n                        value={this.state.inputPasswordValue}\r\n                        onChange={this.onChangeInputPassword}\r\n                        ref=\"input\"\r\n                    />\r\n                    <ButtonSubmit type='submit' onClick={this.onClickButtonSubmit}>Submit</ButtonSubmit>\r\n                </Form>\r\n                <ErrorBox>\r\n                    {this.state.error}\r\n                </ErrorBox>\r\n            </Container>\r\n           /* <button\r\n                onClick={() => this.props.auth.signIn(() => {\r\n                    this.props.history.push('/');\r\n                })}\r\n            >\r\n                Login\r\n            </button>*/\r\n        );\r\n    }\r\n}\r\n \r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}